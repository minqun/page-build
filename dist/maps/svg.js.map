{"version":3,"sources":["svg.js"],"names":["dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","setImage","callback","document","querySelector","setAttribute","html2canvas","useCORS","then","canvas","url","toDataURL","time","Date","console","log","dataURI","file","getTime","getElementById","src","addName","className"],"mappings":";;AAAA;;;;;;;;AAUA,SAASA,aAAT,CAAuBC,OAAvB,EAAgCC,QAAhC,EAA0C;AACtC;AACA,QAAIC,MAAMF,QAAQG,KAAR,CAAc,GAAd,CAAV;AAAA,QACIC,OAAOF,IAAI,CAAJ,EAAOG,KAAP,CAAa,SAAb,EAAwB,CAAxB,CADX;AAAA,QAEIC,OAAOC,KAAKL,IAAI,CAAJ,CAAL,CAFX;AAAA,QAGIM,IAAIF,KAAKG,MAHb;AAAA,QAIIC,QAAQ,IAAIC,UAAJ,CAAeH,CAAf,CAJZ;AAKA,WAAOA,GAAP,EAAY;AACRE,cAAMF,CAAN,IAAWF,KAAKM,UAAL,CAAgBJ,CAAhB,CAAX;AACH;AACD,WAAO,IAAIK,IAAJ,CAAS,CAACH,KAAD,CAAT,EAAkBT,QAAlB,EAA4B,EAAEa,MAAMV,IAAR,EAA5B,CAAP;AACH;;AAED,SAASW,QAAT,CAAkBC,QAAlB,EAA4B;;AAExBC,aAASC,aAAT,CAAuB,KAAvB,EAA8BC,YAA9B,CAA2C,aAA3C,EAA0D,WAA1D;AACAC,gBAAYH,SAASC,aAAT,CAAuB,KAAvB,CAAZ,EAA2C,EAAEG,SAAS,IAAX,EAA3C,EAA8DC,IAA9D,CAAmE,UAACC,MAAD,EAAY;AAC3E,YAAIC,MAAMD,OAAOE,SAAP,CAAiB,WAAjB,CAAV;AACA,YAAIC,OAAO,IAAIC,IAAJ,EAAX;AACAC,gBAAQC,GAAR,CAAY,EAAEC,SAASN,GAAX,EAAgBO,MAAMhC,cAAcyB,GAAd,EAAmBE,KAAKM,OAAL,EAAnB,CAAtB,EAAZ;AACAf,iBAASgB,cAAT,CAAwB,IAAxB,EAA8BC,GAA9B,GAAoCV,GAApC;AACA,eAAO,EAAEM,SAASN,GAAX,EAAgBO,MAAMhC,cAAcyB,GAAd,EAAmBE,KAAKM,OAAL,EAAnB,CAAtB,EAAP;AACH,KAND;AAOH;;AAED,SAASG,OAAT,GAAmB;AACflB,aAASC,aAAT,CAAuB,aAAvB,EAAsCkB,SAAtC,GAAkD,mBAAlD;AACH","file":"../js/svg.js","sourcesContent":["/*\r\n * @Description: In User Settings Edit\r\n * @Author: your name\r\n * @Date: 2019-08-07 16:31:15\r\n * @LastEditTime: 2019-10-16 19:23:19\r\n * @LastEditors: Please set LastEditors\r\n */\r\n\r\n\r\n\r\nfunction dataURLtoFile(dataurl, filename) {\r\n    //将base64转换为文件\r\n    let arr = dataurl.split(\",\"),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, { type: mime });\r\n}\r\n\r\nfunction setImage(callback) {\r\n\r\n    document.querySelector(\".bg\").setAttribute(\"crossOrigin\", \"anonymous\");\r\n    html2canvas(document.querySelector(\".bg\"), { useCORS: true }).then((canvas) => {\r\n        let url = canvas.toDataURL(\"image/png\");\r\n        let time = new Date()\r\n        console.log({ dataURI: url, file: dataURLtoFile(url, time.getTime()) })\r\n        document.getElementById(\"bg\").src = url;\r\n        return { dataURI: url, file: dataURLtoFile(url, time.getTime()) };\r\n    });\r\n};\r\n\r\nfunction addName() {\r\n    document.querySelector(\".cell-input\").className = \"cell-input auname\"\r\n}\r\n"]}